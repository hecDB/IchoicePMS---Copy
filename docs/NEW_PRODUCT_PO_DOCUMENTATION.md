# р╕гр╕░р╕Ър╕Ър╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ъ PO р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕лр╕бр╣И - р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

## ЁЯУЛ р╕ар╕▓р╕Юр╕гр╕зр╕бр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ

р╕гр╕░р╕Ър╕Ър╕Щр╕╡р╣Йр╕нр╕нр╕Бр╣Бр╕Ър╕Ър╕бр╕▓р╣Ар╕Юр╕╖р╣Ир╕нр╣Гр╕лр╣Йр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ъ PO (Purchase Order) р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡р╣Гр╕Щр╕гр╕░р╕Ър╕Ъ р╣Вр╕Фр╕вр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Ар╕лр╕ер╣Ир╕▓р╕Щр╕╡р╣Йр╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡ SKU р╕лр╕гр╕╖р╕н Barcode р╕Чр╕╡р╣Ир╕Бр╕│р╕лр╕Щр╕Фр╣Др╕зр╣Й

## ЁЯОп р╕зр╕▒р╕Хр╕Цр╕╕р╕Ыр╕гр╕░р╕кр╕Зр╕Др╣М

- р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ъ PO р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕лр╕бр╣Ир╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕│р╕лр╕Щр╕Ф SKU/Barcode р╕ер╣Ир╕зр╕Зр╕лр╕Щр╣Йр╕▓
- р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Ър╕╖р╣Йр╕нр╕Зр╕Хр╣Йр╕Щр╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Бр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓ р╣Ар╕Кр╣Ир╕Щ р╕Кр╕╖р╣Ир╕н р╕Ыр╕гр╕░р╣Ар╕ар╕Ч р╕гр╕╣р╕Ыр╕ар╕▓р╕Ю
- р╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щр╕Хр╕▓р╕гр╕▓р╕З temp_products р╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕нр╕Бр╕▓р╕гр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤р╕Ир╕▓р╕Бр╕Ьр╕╣р╣Йр╕Фр╕╣р╣Бр╕ер╕гр╕░р╕Ър╕Ъ
- р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤р╣Бр╕ер╕░р╣Бр╕Ыр╕ер╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Кр╕▒р╣Ир╕зр╕Др╕гр╕▓р╕зр╣Ар╕Ыр╣Зр╕Щр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Цр╕▓р╕зр╕гр╣Гр╕Щр╕гр╕░р╕Ър╕Ъ

## ЁЯФД р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ

### 1я╕ПтГг р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ъ PO р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕лр╕бр╣И

**р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ:** Admin, Manager

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ:**
1. р╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓ "р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ъ PO"
2. р╕Др╕ер╕┤р╕Бр╕Ыр╕╕р╣Ир╕б "ЁЯЖХ р╕кр╕гр╣Йр╕▓р╕З PO - р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕лр╕бр╣И"
3. р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Ъ PO:
   - **р╣Ар╕ер╕Вр╕Чр╕╡р╣Ир╣Гр╕Ъ PO:** р╕кр╕гр╣Йр╕▓р╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕лр╕гр╕╖р╕нр╕Бр╕гр╕нр╕Бр╣Ар╕нр╕З (р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ: PO-YYYY-NNNNN)
   - **р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н:** р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ъ PO
   - **р╕Лр╕▒р╕Юр╕Юр╕ер╕▓р╕вр╣Ар╕вр╕нр╕гр╣М:** р╣Ар╕ер╕╖р╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕▓р╕вр╕Кр╕╖р╣Ир╕н
   - **р╕кр╕Бр╕╕р╕ер╣Ар╕Зр╕┤р╕Щ:** р╣Ар╕ер╕╖р╕нр╕Бр╕кр╕Бр╕╕р╕ер╣Ар╕Зр╕┤р╕Щр╕Вр╕нр╕Зр╣Гр╕Ъ PO
   - **р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕:** р╕Др╕зр╕▓р╕бр╣Ар╕лр╣Зр╕Щр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б (р╕Цр╣Йр╕▓р╕бр╕╡)

### 2я╕ПтГг р╣Ар╕Юр╕┤р╣Ир╕бр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓

**р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕ер╕░р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓:**
1. р╕Др╕ер╕┤р╕Бр╕Ыр╕╕р╣Ир╕б "+ р╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕┤р╕Щр╕Др╣Йр╕▓" р╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕Юр╕┤р╣Ир╕бр╣Бр╕Цр╕зр╣Гр╕лр╕бр╣И
2. **р╕гр╕╣р╕Ыр╕ар╕▓р╕Ю:** р╕Др╕ер╕┤р╕Бр╕Ыр╕╕р╣Ир╕бр╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╣Ар╕Юр╕╖р╣Ир╕нр╕нр╕▒р╕Юр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ыр╕кр╕┤р╕Щр╕Др╣Йр╕▓
   - р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╕гр╕нр╕Зр╕гр╕▒р╕Ъ: JPEG, PNG, GIF, WebP
   - р╕Вр╕Щр╕▓р╕Фр╕кр╕╣р╕Зр╕кр╕╕р╕Ф: 5 MB
3. **р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓:** р╕гр╕░р╕Ър╕╕р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓ (р╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ)
4. **р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕кр╕┤р╕Щр╕Др╣Йр╕▓:** р╣Ар╕ер╕╖р╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Чр╕╡р╣Ир╕бр╕╡ (р╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ)
   - р╕нр╕▓р╕лр╕▓р╕гр╣Ар╕кр╕гр╕┤р╕б
   - р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╣Гр╕Кр╣Йр╣Др╕Яр╕Яр╣Йр╕▓
   - р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕кр╕│р╕нр╕▓р╕З/р╕Др╕зр╕▓р╕бр╕Зр╕▓р╕б
   - р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕бр╣Ир╣Бр╕ер╕░р╣Ар╕Фр╣Зр╕Б
   - р╕кр╕▒р╕Хр╕зр╣Мр╣Ар╕ер╕╡р╣Йр╕вр╕З
   - р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╣Гр╕Кр╣Йр╣Гр╕Щр╕Ър╣Йр╕▓р╕Щ/р╕нр╕нр╕Яр╕Яр╕┤р╕и
5. **р╕лр╕Щр╣Ир╕зр╕вр╕Щр╕▒р╕Ъ:** р╕Др╣Ир╕▓р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ "р╕Кр╕┤р╣Йр╕Щ" (р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Бр╣Йр╣Др╕Вр╣Др╕Фр╣Й)
6. **р╕Ир╕│р╕Щр╕зр╕Щ:** р╕гр╕░р╕Ър╕╕р╕Ир╕│р╕Щр╕зр╕Щр╕кр╕┤р╕Щр╕Др╣Йр╕▓ (р╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ)
7. **р╕гр╕▓р╕Др╕▓/р╕лр╕Щр╣Ир╕зр╕в:** р╕гр╕░р╕Ър╕╕р╕гр╕▓р╕Др╕▓ (р╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ)
8. **р╕кр╣Ир╕зр╕Щр╕ер╕Ф %:** р╕кр╣Ир╕зр╕Щр╕ер╕Фр╕гр╣Йр╕нр╕вр╕ер╕░ (р╕Цр╣Йр╕▓р╕бр╕╡)

### 3я╕ПтГг р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╣Гр╕Ъ PO

1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕гр╕зр╕бр╕вр╕нр╕Ф
2. р╕Др╕ер╕┤р╕Бр╕Ыр╕╕р╣Ир╕б "р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╣Гр╕Ъ PO"
3. р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕ер╕░р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕вр╕╖р╕Щр╕вр╕▒р╕Щ

## тЬЕ р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤р╣Бр╕ер╕░р╣Бр╕Ыр╕ер╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓

**р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ:** Admin р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤:

1. р╣Др╕Ыр╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓ "р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤р╣Бр╕ер╕░р╣Бр╕Ыр╕ер╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕лр╕бр╣И"
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╕гр╕нр╕Бр╕▓р╕гр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤
   - р╕Чр╕╡р╣Ир╕Щр╕╡р╣Ир╕Ир╕░р╣Бр╕кр╕Фр╕Зр╕гр╕╣р╕Ыр╕ар╕▓р╕Ю р╕Кр╕╖р╣Ир╕н р╕Ыр╕гр╕░р╣Ар╕ар╕Ч р╣Бр╕ер╕░р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕╖р╣Ир╕Щр╣Ж
3. р╕Др╕ер╕┤р╕Бр╕Ыр╕╕р╣Ир╕б "тЬУ р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤" р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤
4. р╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╕Хр╣Ир╕▓р╕Зр╕Ыр╣Зр╕нр╕Ыр╕нр╕▒р╕Ы:
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╣Бр╕ер╕░р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕кр╕┤р╕Щр╕Др╣Йр╕▓
   - **SKU (р╕Цр╣Йр╕▓р╕бр╕╡):** р╕гр╕░р╕Ър╕╕р╕гр╕лр╕▒р╕кр╕кр╕┤р╕Щр╕Др╣Йр╕▓
   - **Barcode (р╕Цр╣Йр╕▓р╕бр╕╡):** р╕гр╕░р╕Ър╕╕ Barcode
   - **р╕кр╕╡р╕лр╕гр╕╖р╕нр╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕:** р╕гр╕░р╕Ър╕╕р╕кр╕╡р╕лр╕гр╕╖р╕нр╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б
   - **р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕вр╕Бр╕нр╕нр╕Бр╕бр╕▓р╣Др╕Фр╣Й:** р╕Хр╕┤р╣Кр╕Бр╕лр╕▓р╕Бр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕вр╕Бр╕нр╕нр╕Бр╕Ир╕▓р╕Бр╣Гр╕Ъ PO р╣Др╕Фр╣Й
5. р╕Др╕ер╕┤р╕Бр╕Ыр╕╕р╣Ир╕б "р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤"

### р╕Ыр╕Пр╕┤р╣Ар╕кр╕Шр╕кр╕┤р╕Щр╕Др╣Йр╕▓:

1. р╕Др╕ер╕┤р╕Бр╕Ыр╕╕р╣Ир╕б "тЬХ р╕Ыр╕Пр╕┤р╣Ар╕кр╕Ш"
2. р╕гр╕░р╕Ър╕╕р╣Ар╕лр╕Хр╕╕р╕Ьр╕ер╕Бр╕▓р╕гр╕Ыр╕Пр╕┤р╣Ар╕кр╕Ш
3. р╕Др╕ер╕┤р╕Бр╕Ыр╕╕р╣Ир╕б "тЬХ р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Ыр╕Пр╕┤р╣Ар╕кр╕Ш"

## ЁЯЧДя╕П р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

### р╕Хр╕▓р╕гр╕▓р╕З: temp_products

| р╕Др╕нр╕ер╕▒р╕бр╕Щр╣М | р╕Кр╕Щр╕┤р╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕е | р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в |
|--------|-----------|---------|
| temp_product_id | INT | р╕гр╕лр╕▒р╕кр╣Ар╕Йр╕Юр╕▓р╕░ |
| product_name | VARCHAR(100) | р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓ |
| product_category | VARCHAR(100) | р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕кр╕┤р╕Щр╕Др╣Йр╕▓ |
| product_image | LONGBLOB | р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕кр╕┤р╕Щр╕Др╣Йр╕▓ (Base64) |
| provisional_sku | VARCHAR(255) | SKU р╕Кр╕▒р╣Ир╕зр╕Др╕гр╕▓р╕з |
| provisional_barcode | VARCHAR(50) | Barcode р╕Кр╕▒р╣Ир╕зр╕Др╕гр╕▓р╕з |
| unit | VARCHAR(20) | р╕лр╕Щр╣Ир╕зр╕вр╕Щр╕▒р╕Ъ |
| remark | TEXT | р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕ |
| status | ENUM | р╕кр╕Цр╕▓р╕Щр╕░ (draft, pending_approval, approved, rejected, converted) |
| po_id | INT | р╣Гр╕Ъ PO р╕Чр╕╡р╣Ир╕нр╣Йр╕▓р╕Зр╕нр╕┤р╕З |
| created_by | INT | р╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Фр╕в (user_id) |
| approved_by | INT | р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤р╣Вр╕Фр╕в (user_id) |
| created_at | TIMESTAMP | р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕З |
| approved_at | TIMESTAMP | р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤ |

### р╣Др╕Яр╕ер╣Мр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

**Migration File:** `db/add_image_category_to_temp_products.sql`

```sql
ALTER TABLE `temp_products` 
ADD COLUMN `product_category` varchar(100) DEFAULT NULL COMMENT 'р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕кр╕┤р╕Щр╕Др╣Йр╕▓',
ADD COLUMN `product_image` longblob DEFAULT NULL COMMENT 'р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕кр╕┤р╕Щр╕Др╣Йр╕▓ (Base64 encoded)';
```

## ЁЯУБ р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕З

### Frontend Files:
1. **`orders/purchase_order_create_new_product.php`**
   - р╕лр╕Щр╣Йр╕▓р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ъ PO р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕лр╕бр╣И
   - р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М:
     - р╕кр╕гр╣Йр╕▓р╕З PO Number р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
     - р╕нр╕▒р╕Юр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕ер╕░р╕кр╕┤р╕Щр╕Др╣Йр╕▓
     - р╣Ар╕ер╕╖р╕нр╕Бр╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕кр╕┤р╕Щр╕Др╣Йр╕▓
     - р╕Др╕│р╕Щр╕зр╕Ур╕вр╕нр╕Фр╕гр╕зр╕бр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

2. **`products/convert_temp_to_product.php`**
   - р╕лр╕Щр╣Йр╕▓р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤р╣Бр╕ер╕░р╣Бр╕Ыр╕ер╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓
   - р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М:
     - р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕гр╕нр╕Бр╕▓р╕гр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤
     - р╣Бр╕кр╕Фр╕Зр╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╣Бр╕ер╕░р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕кр╕┤р╕Щр╕Др╣Йр╕▓
     - р╕Ыр╣Зр╕нр╕Ыр╕нр╕▒р╕Ыр╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤/р╕Ыр╕Пр╕┤р╣Ар╕кр╕Ш

### Backend API Files:
1. **`api/purchase_order_new_product_api.php`**
   - р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ъ PO
   - р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╕нр╕▒р╕Юр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ыр╕ар╕▓р╕Ю
   - р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕Зр╣Гр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

2. **`api/generate_po_number_api.php`**
   - р╕кр╕гр╣Йр╕▓р╕З PO Number р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
   - р╕Яр╕нр╕гр╣Мр╣Бр╕бр╕Х: PO-YYYY-NNNNN

## ЁЯФТ р╕Бр╕▓р╕гр╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

| р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М | Admin | Manager | User |
|-------|-------|---------|------|
| р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ъ PO р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕лр╕бр╣И | тЬЕ | тЬЕ | тЭМ |
| р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤р╕кр╕┤р╕Щр╕Др╣Йр╕▓ | тЬЕ | тЭМ | тЭМ |
| р╕Ыр╕Пр╕┤р╣Ар╕кр╕Шр╕кр╕┤р╕Щр╕Др╣Йр╕▓ | тЬЕ | тЭМ | тЭМ |
| р╕Фр╕╣р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕кр╕┤р╕Щр╕Др╣Йр╕▓ | тЬЕ | тЬЕ | тЭМ |

## ЁЯРЫ р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф

### р╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Фр╕Чр╕▒р╣Ир╕зр╣Др╕Ы:

1. **"р╕Бр╕гр╕╕р╕Ур╕▓р╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕нр╕вр╣Ир╕▓р╕Зр╕Щр╣Йр╕нр╕в 1 р╕гр╕▓р╕вр╕Бр╕▓р╕г"**
   - р╣Бр╕Щр╣Ир╣Гр╕Ир╕зр╣Ир╕▓р╕Др╕╕р╕Ур╣Др╕Фр╣Йр╣Ар╕Юр╕┤р╣Ир╕бр╣Бр╕Цр╕зр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕нр╕вр╣Ир╕▓р╕Зр╕Щр╣Йр╕нр╕в 1 р╣Бр╕Цр╕з

2. **"р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╣Др╕бр╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ъ"**
   - р╣Гр╕Кр╣Йр╣Др╕Яр╕ер╣Мр╕гр╕╣р╕Ыр╕Ыр╕гр╕░р╣Ар╕ар╕Ч: JPEG, PNG, GIF, WebP

3. **"р╕Вр╕Щр╕▓р╕Фр╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╣Гр╕лр╕Нр╣Ир╣Ар╕Бр╕┤р╕Щр╣Др╕Ы"**
   - р╕Вр╕Щр╕▓р╕Фр╕гр╕╣р╕Ыр╕Хр╣Йр╕нр╕Зр╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 5 MB

4. **"SKU р╕Щр╕╡р╣Йр╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з"**
   - SKU р╕Чр╕╡р╣Ир╕гр╕░р╕Ър╕╕р╕Лр╣Йр╕│р╕Бр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з

## ЁЯУК р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З 1: р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ъ PO р╕кр╕│р╕лр╕гр╕▒р╕Ър╕зр╕┤р╕Хр╕▓р╕бр╕┤р╕Щ
```
PO Number: PO-2025-00001
Supplier: Pharma Co.
Date: 2025-01-15
Currency: THB

Item 1:
- Product Name: р╕зр╕┤р╕Хр╕▓р╕бр╕┤р╕Щ B12 р╕Вр╕зр╕Ф 100ml
- Category: р╕нр╕▓р╕лр╕▓р╕гр╣Ар╕кр╕гр╕┤р╕б
- Image: [uploaded]
- Unit: р╕Вр╕зр╕Ф
- Qty: 100
- Price: 120.00
- Discount: 5%
```

### р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З 2: р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ъ PO р╕кр╕│р╕лр╕гр╕▒р╕Ър╕лр╕бр╣Йр╕нр╕лр╕╕р╕Зр╕Вр╣Йр╕▓р╕з
```
PO Number: PO-2025-00002
Supplier: Electronic Store
Date: 2025-01-15
Currency: THB

Item 1:
- Product Name: р╕лр╕бр╣Йр╕нр╕лр╕╕р╕Зр╕Вр╣Йр╕▓р╕з р╕Др╕╕р╕Ур╕ар╕▓р╕Юр╕Фр╕╡
- Category: р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╣Гр╕Кр╣Йр╣Др╕Яр╕Яр╣Йр╕▓
- Image: [uploaded]
- Unit: р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕З
- Qty: 50
- Price: 3,500.00
- Discount: 10%
```

## ЁЯФД р╕кр╕Цр╕▓р╕Щр╕░р╕кр╕┤р╕Щр╕Др╣Йр╕▓

| р╕кр╕Цр╕▓р╕Щр╕░ | р╕Др╕зр╕▓р╕бр╕лр╕бр╕▓р╕в |
|------|---------|
| draft | р╕гр╣Ир╕▓р╕Зр╕Др╣Ир╕▓ р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕кр╣Ир╕Зр╣Ар╕Ър╕┤р╕Б |
| pending_approval | р╕гр╕нр╕Бр╕▓р╕гр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤р╕Ир╕▓р╕Бр╕Ьр╕╣р╣Йр╕Фр╕╣р╣Бр╕ер╕гр╕░р╕Ър╕Ъ |
| approved | р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤р╣Бр╕ер╣Йр╕з |
| rejected | р╕Цр╕╣р╕Бр╕Ыр╕Пр╕┤р╣Ар╕кр╕Ш |
| converted | р╣Бр╕Ыр╕ер╕Зр╣Ар╕Ыр╣Зр╕Щр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Цр╕▓р╕зр╕гр╣Бр╕ер╣Йр╕з |

## ЁЯЪА р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ 1: р╕гр╕▒р╕Щр╣Др╕Яр╕ер╣М Migration
```sql
-- р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕нр╕ер╕▒р╕бр╕Щр╣М product_category р╣Бр╕ер╕░ product_image
ALTER TABLE temp_products 
ADD COLUMN product_category varchar(100) DEFAULT NULL,
ADD COLUMN product_image longblob DEFAULT NULL;
```

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ 2: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Др╕Яр╕ер╣М
- тЬУ `orders/purchase_order_create_new_product.php` (р╕нр╕▒р╕Юр╣Ар╕Фр╕Хр╣Бр╕ер╣Йр╕з)
- тЬУ `api/purchase_order_new_product_api.php` (р╕нр╕▒р╕Юр╣Ар╕Фр╕Хр╣Бр╕ер╣Йр╕з)
- тЬУ `api/generate_po_number_api.php` (р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕лр╕бр╣И)
- тЬУ `products/convert_temp_to_product.php` (р╕нр╕▒р╕Юр╣Ар╕Фр╕Хр╣Бр╕ер╣Йр╕з)

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ 3: р╕Чр╕Фр╕кр╕нр╕Ър╕гр╕░р╕Ър╕Ъ
1. р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ъ PO р╣Гр╕лр╕бр╣Ир╕Юр╕гр╣Йр╕нр╕бр╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╣Бр╕ер╕░р╕Ыр╕гр╕░р╣Ар╕ар╕Ч
2. р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Ир╕▓р╕Бр╕лр╕Щр╣Йр╕▓р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Цр╕╣р╕Бр╣Бр╕Ыр╕ер╕Зр╣Ар╕Ыр╣Зр╕Щр╕Цр╕▓р╕зр╕г

## ЁЯУЭ р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕

- р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕Ир╕░р╕Цр╕╣р╕Бр╕Ир╕▒р╕Фр╣Ар╕Бр╣Зр╕Ър╣Ар╕Ыр╣Зр╕Щ Base64 р╣Гр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
- р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Др╕Зр╕Чр╕╡р╣И 6 р╕Ыр╕гр╕░р╣Ар╕ар╕Ч р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Бр╣Йр╣Др╕Вр╣Др╕Фр╣Йр╣Гр╕Щр╣Вр╕Др╣Йр╕Ф
- PO Number р╕Ир╕░р╕кр╕гр╣Йр╕▓р╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Гр╕Щр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ PO-YYYY-NNNNN
- р╕кр╕Щр╕▒р╕Ър╕кр╕Щр╕╕р╕Щр╕Бр╕▓р╕гр╕нр╕▒р╕Юр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕ер╕░р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓

## ЁЯСитАНЁЯТ╗ р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н

р╕лр╕▓р╕Бр╕бр╕╡р╕Др╕│р╕Цр╕▓р╕бр╕лр╕гр╕╖р╕нр╣Ар╕Бр╕┤р╕Фр╕Ыр╕▒р╕Нр╕лр╕▓ р╣Вр╕Ыр╕гр╕Фр╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Чр╕╡р╕бр╕Юр╕▒р╕Тр╕Щр╕▓

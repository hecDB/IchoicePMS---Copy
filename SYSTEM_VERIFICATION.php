<?php
/**
 * ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• receive_id ‡πÅ‡∏•‡∏∞ expiry_date
 */
?>
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏µ‡∏Å‡∏•‡∏±‡∏ö</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
        }
        .container {
            max-width: 1200px;
        }
        .card {
            border: none;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }
        .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px 12px 0 0;
            padding: 1.5rem;
            font-weight: 600;
        }
        .card-body {
            padding: 1.5rem;
        }
        .feature-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border-left: 4px solid #667eea;
        }
        .feature-icon {
            font-size: 1.5rem;
            margin-right: 0.5rem;
        }
        .status-badge {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-weight: 600;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }
        .status-complete {
            background: #d1fae5;
            color: #065f46;
        }
        .status-active {
            background: #dbeafe;
            color: #0c4a6e;
        }
        .alert-custom {
            border: none;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="text-center text-white mb-4">
            <h1 style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem;">
                üì¶ ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏µ‡∏Å‡∏•‡∏±‡∏ö
            </h1>
            <p style="font-size: 1.1rem; opacity: 0.9;">
                ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏±‡∏ï‡∏ä‡∏∏‡∏î (receive_id) ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏
            </p>
        </div>

        <!-- Overview -->
        <div class="card">
            <div class="card-header">
                ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÅ‡∏•‡πâ‡∏ß
            </div>
            <div class="card-body">
                <div class="alert alert-custom alert-success">
                    <h5 class="alert-heading">üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h5>
                    <p>‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏•‡∏±‡∏ï‡∏ä‡∏∏‡∏î (receive_id) ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏µ‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß</p>
                </div>

                <h5 class="mt-4 mb-3">üìã ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö:</h5>
                
                <div class="feature-item">
                    <span class="feature-icon">üìç</span>
                    <strong>receive_id (‡∏•‡∏±‡∏ï‡∏ä‡∏∏‡∏î/‡∏ä‡∏∏‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤)</strong>
                    <br>
                    <small class="text-muted">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ß‡πà‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏•‡∏±‡∏ï‡∏ä‡∏∏‡∏î‡πÑ‡∏´‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</small>
                </div>

                <div class="feature-item">
                    <span class="feature-icon">üìÖ</span>
                    <strong>expiry_date (‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏)</strong>
                    <br>
                    <small class="text-muted">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏î‡πÉ‡∏´‡∏°‡πà</small>
                </div>

                <div class="feature-item">
                    <span class="feature-icon">üîó</span>
                    <strong>‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á</strong>
                    <br>
                    <small class="text-muted">‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• issue_items ‚Üí returned_items ‚Üí damaged_return_inspections</small>
                </div>
            </div>
        </div>

        <!-- Features -->
        <div class="card">
            <div class="card-header">
                ‚ú® ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <div class="feature-item">
                            <h6>üìä ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï</h6>
                            <ul class="mb-0" style="padding-left: 1.2rem;">
                                <li>returned_items (+ receive_id)</li>
                                <li>damaged_return_inspections (+ receive_id)</li>
                                <li>issue_items (+ expiry_date)</li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="feature-item">
                            <h6>üîÑ ‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h6>
                            <ul class="mb-0" style="padding-left: 1.2rem;">
                                <li>‡∏à‡∏±‡∏ö receive_id ‡∏à‡∏≤‡∏Å issue_items</li>
                                <li>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å expiry_date</li>
                                <li>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Å‡∏•‡∏±‡∏ö‡∏õ‡∏Å‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏ä‡∏≥‡∏£‡∏∏‡∏î</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <h5 class="mt-4 mb-3">üéØ ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå:</h5>
                <div class="row">
                    <div class="col-md-4 mb-2">
                        <span class="status-badge status-complete">‚úì ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏•‡∏±‡∏ï‡∏ä‡∏∏‡∏î</span>
                    </div>
                    <div class="col-md-4 mb-2">
                        <span class="status-badge status-complete">‚úì ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</span>
                    </div>
                    <div class="col-md-4 mb-2">
                        <span class="status-badge status-complete">‚úì ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Flow -->
        <div class="card">
            <div class="card-header">
                üîÑ ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            </div>
            <div class="card-body">
                <div style="background: white; padding: 2rem; border-radius: 8px; border: 2px dashed #667eea;">
                    <div class="text-center mb-4">
                        <div style="display: inline-block; background: #e0e7ff; padding: 1rem; border-radius: 8px; min-width: 200px;">
                            <strong>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ Sales Order</strong><br>
                            <small>(issue_tag)</small>
                        </div>
                    </div>

                    <div class="text-center mb-4">‚Üì</div>

                    <div class="text-center mb-4">
                        <div style="display: inline-block; background: #e0e7ff; padding: 1rem; border-radius: 8px; min-width: 200px;">
                            <strong>‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• issue_items</strong><br>
                            <small>receive_id + expiry_date</small>
                        </div>
                    </div>

                    <div class="text-center mb-4">‚Üì</div>

                    <div class="text-center mb-4">
                        <div style="display: inline-block; background: #d1fae5; padding: 1rem; border-radius: 8px; min-width: 200px;">
                            <strong>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô returned_items</strong><br>
                            <small>‚úì receive_id ‚úì expiry_date</small>
                        </div>
                    </div>

                    <div class="text-center mb-4">‚Üì</div>

                    <div class="text-center">
                        <div style="display: inline-block; background: #e0e7ff; padding: 1rem; border-radius: 8px; min-width: 250px;">
                            <strong>‡∏ñ‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∏‡∏î ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á Inspection</strong><br>
                            <small>damaged_return_inspections (+ receive_id + expiry_date)</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Testing -->
        <div class="card">
            <div class="card-header">
                üß™ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö
            </div>
            <div class="card-body">
                <h5 class="mb-3">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á</h5>
                <div class="alert alert-custom alert-info">
                    <code>‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå: test_receive_id_capture.php</code>
                    <br>
                    <small>‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå receive_id ‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤</small>
                </div>

                <h5 class="mt-4 mb-3">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</h5>
                <ol>
                    <li>‡πÄ‡∏õ‡∏¥‡∏î <code>returns/return_items.php</code></li>
                    <li>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ Sales Order ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• receive_id</li>
                    <li>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</li>
                    <li>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ receive_id ‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</li>
                </ol>

                <h5 class="mt-4 mb-3">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h5>
                <div class="alert alert-custom alert-secondary">
                    <code>
SELECT return_id, return_code, receive_id, expiry_date<br>
FROM returned_items<br>
WHERE return_from_sales = 1<br>
LIMIT 5;
                    </code>
                </div>
            </div>
        </div>

        <!-- Files -->
        <div class="card">
            <div class="card-header">
                üìÅ ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á
            </div>
            <div class="card-body">
                <table class="table table-hover">
                    <thead class="table-light">
                        <tr>
                            <th>‡πÑ‡∏ü‡∏•‡πå</th>
                            <th>‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>api/returned_items_api.php</code></td>
                            <td>‡πÄ‡∏û‡∏¥‡πà‡∏° receive_id capture, update expiry_date handling</td>
                        </tr>
                        <tr>
                            <td><code>test_receive_id_capture.php</code></td>
                            <td>‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà</td>
                        </tr>
                        <tr>
                            <td><code>RECEIVE_ID_TRACKING_UPDATE.md</code></td>
                            <td>‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</td>
                        </tr>
                        <tr>
                            <td><code>RETURN_SYSTEM_SUMMARY.md</code></td>
                            <td>‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏∞‡∏ö‡∏ö</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center text-white mt-5">
            <p style="font-size: 0.95rem; opacity: 0.8;">
                ‚ú® ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏µ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÅ‡∏•‡πâ‡∏ß | 
                ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏•‡∏±‡∏ï‡∏ä‡∏∏‡∏î (receive_id) ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ (expiry_date)
            </p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
